//moved most logic elsewhere for now